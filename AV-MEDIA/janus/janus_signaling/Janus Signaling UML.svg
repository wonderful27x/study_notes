<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="11340px" preserveAspectRatio="none" style="width:1161px;height:11340px;background:#FFFFFF;" version="1.1" viewBox="0 0 1161 11340" width="1161px" zoomAndPan="magnify"><defs><filter height="300%" id="f10yhb7v0btagz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="174" x="496.25" y="32.8799">Janus Signaling UML</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="346" x2="346" y1="84.3357" y2="11292.9362"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="620" x2="620" y1="84.3357" y2="11292.9362"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="817" x2="817" y1="84.3357" y2="11292.9362"/><rect fill="#FEFECE" filter="url(#f10yhb7v0btagz)" height="34.2719" style="stroke:#A80036;stroke-width:1.5;" width="65" x="312" y="45.0638"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="319" y="68.3038">Client A</text><rect fill="#FEFECE" filter="url(#f10yhb7v0btagz)" height="34.2719" style="stroke:#A80036;stroke-width:1.5;" width="65" x="312" y="11291.9362"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="319" y="11315.1761">Client A</text><rect fill="#FEFECE" filter="url(#f10yhb7v0btagz)" height="34.2719" style="stroke:#A80036;stroke-width:1.5;" width="71" x="583" y="45.0638"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="590" y="68.3038">Gateway</text><rect fill="#FEFECE" filter="url(#f10yhb7v0btagz)" height="34.2719" style="stroke:#A80036;stroke-width:1.5;" width="71" x="583" y="11291.9362"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="590" y="11315.1761">Gateway</text><rect fill="#FEFECE" filter="url(#f10yhb7v0btagz)" height="34.2719" style="stroke:#A80036;stroke-width:1.5;" width="65" x="783" y="45.0638"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="790" y="68.3038">Client B</text><rect fill="#FEFECE" filter="url(#f10yhb7v0btagz)" height="34.2719" style="stroke:#A80036;stroke-width:1.5;" width="65" x="783" y="11291.9362"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="790" y="11315.1761">Client B</text><polygon fill="#A80036" points="608.5,148.3958,618.5,152.3958,608.5,156.3958,612.5,152.3958" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="152.3958" y2="152.3958"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="353.5" y="146.6518">1:请求创建session</text><path d="M109,99.3357 L109,184.3357 L337,184.3357 L337,109.3357 L327,99.3357 L109,99.3357 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,99.3357 L327,109.3357 L337,109.3357 L327,99.3357 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="115" y="119.4158">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="142" y="138.2398">"janus":"create",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="142" y="157.0638">"transaction":"xquco8PifpXy"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="115" y="175.8878">}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="620.5" x2="662.5" y1="218.4558" y2="218.4558"/><line style="stroke:#A80036;stroke-width:1.0;" x1="662.5" x2="662.5" y1="218.4558" y2="231.4558"/><line style="stroke:#A80036;stroke-width:1.0;" x1="621.5" x2="662.5" y1="231.4558" y2="231.4558"/><polygon fill="#A80036" points="631.5,227.4558,621.5,231.4558,631.5,235.4558,627.5,231.4558" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="627.5" y="212.7118">2:create session</text><polygon fill="#A80036" points="357.5,321.7519,347.5,325.7519,357.5,329.7519,353.5,325.7519" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="325.7519" y2="325.7519"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="363.5" y="320.0079">3:返回session ID</text><path d="M625,244.4558 L625,385.4558 L857,385.4558 L857,254.4558 L847,244.4558 L625,244.4558 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M847,244.4558 L847,254.4558 L857,254.4558 L847,244.4558 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="264.5358">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="658" y="283.3599">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="658" y="302.1839">"transaction":"xquco8PifpXy",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="658" y="321.0079">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="685" y="339.8319">"id":6625688931244104</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="358.6559">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="377.4799">}</text><polygon fill="#A80036" points="608.5,477.52,618.5,481.52,608.5,485.52,612.5,481.52" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="481.52" y2="481.52"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="353.5" y="475.776">4:绑定插件</text><path d="M5,400.2239 L5,541.2239 L338,541.2239 L338,410.2239 L328,400.2239 L5,400.2239 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M328,400.2239 L328,410.2239 L338,410.2239 L328,400.2239 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="420.304">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="38" y="439.128">"janus":"attach",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="38" y="457.952">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="38" y="476.776">"opaque_id":"videoroomtest-JPkbv1yyPQUR",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="38" y="495.6">"transaction":"JUQN8RGGqI8x",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="38" y="514.424">"session_id":6625688931244104</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="533.2481">}</text><polygon fill="#A80036" points="357.5,642.7001,347.5,646.7001,357.5,650.7001,353.5,646.7001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="646.7001" y2="646.7001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="363.5" y="640.9561">5:返回handle ID</text><path d="M625,555.9921 L625,715.9921 L869,715.9921 L869,565.9921 L859,555.9921 L625,555.9921 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M859,555.9921 L859,565.9921 L869,565.9921 L859,555.9921 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="576.0721">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="658" y="594.8961">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="613.7201">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="658" y="632.5441">"transaction":"JUQN8RGGqI8x",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="658" y="651.3681">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="685" y="670.1922">"id":824373231876398</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="689.0162">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="707.8402">}</text><polygon fill="#A80036" points="608.5,854.9403,618.5,858.9403,608.5,862.9403,612.5,858.9403" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="858.9403" y2="858.9403"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="353.5" y="853.1963">6:以发布者加入房间</text><path d="M87,730.5842 L87,965.5842 L337,965.5842 L337,740.5842 L327,730.5842 L87,730.5842 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,730.5842 L327,740.5842 L337,740.5842 L327,730.5842 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="93" y="750.6642">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="120" y="769.4882">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="120" y="788.3122">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="147" y="807.1363">"request":"join",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="147" y="825.9603">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="147" y="844.7843">"ptype":"publisher",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="147" y="863.6083">"display":"111"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="120" y="882.4323">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="120" y="901.2563">"transaction":"M9udNzObUT6U",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="120" y="920.0804">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="120" y="938.9044">"handle_id":824373231876398</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="93" y="957.7284">}</text><polygon fill="#A80036" points="357.5,1001.2964,347.5,1005.2964,357.5,1009.2964,353.5,1005.2964" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="1005.2964" y2="1005.2964"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="363.5" y="999.5524">7:响应ack</text><path d="M625,980.4724 L625,1008.4724 L1134,1008.4724 L1134,990.4724 L1124,980.4724 L625,980.4724 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1124,980.4724 L1124,990.4724 L1134,990.4724 L1124,980.4724 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="488" x="631" y="1000.5524">{"janus":"ack","session_id":6625688931244104,"transaction":"M9udNzObUT6U"}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="620.5" x2="662.5" y1="1043.1204" y2="1043.1204"/><line style="stroke:#A80036;stroke-width:1.0;" x1="662.5" x2="662.5" y1="1043.1204" y2="1056.1204"/><line style="stroke:#A80036;stroke-width:1.0;" x1="621.5" x2="662.5" y1="1056.1204" y2="1056.1204"/><polygon fill="#A80036" points="631.5,1052.1204,621.5,1056.1204,631.5,1060.1204,627.5,1056.1204" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="627.5" y="1037.3764">8:处理message</text><polygon fill="#A80036" points="357.5,1240.5366,347.5,1244.5366,357.5,1248.5366,353.5,1244.5366" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="1244.5366" y2="1244.5366"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="363.5" y="1238.7926">9: join 成功</text><path d="M625,1069.1204 L625,1399.1204 L918,1399.1204 L918,1079.1204 L908,1069.1204 L625,1069.1204 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M908,1069.1204 L908,1079.1204 L918,1079.1204 L908,1069.1204 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="1089.2004">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="658" y="1108.0245">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="1126.8485">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="658" y="1145.6725">"transaction":"M9udNzObUT6U",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="658" y="1164.4965">"sender":824373231876398,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="658" y="1183.3205">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="685" y="1202.1445">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="685" y="1220.9686">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="712" y="1239.7926">"videoroom":"joined",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="712" y="1258.6166">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="712" y="1277.4406">"description":"Demo Room",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="712" y="1296.2646">"id":8854919062182404,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="712" y="1315.0886">"private_id":3411107909,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="712" y="1333.9127">"publishers":[]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="685" y="1352.7367">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="1371.5607">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="1390.3847">}</text><polygon fill="#A80036" points="608.5,1556.3088,618.5,1560.3088,608.5,1564.3088,612.5,1560.3088" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="1560.3088" y2="1560.3088"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="353.5" y="1554.5648">10:发布流并offer sdp</text><path d="M84,1413.1287 L84,1686.1287 L337,1686.1287 L337,1423.1287 L327,1413.1287 L84,1413.1287 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,1413.1287 L327,1423.1287 L337,1423.1287 L327,1413.1287 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="90" y="1433.2087">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="117" y="1452.0327">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="117" y="1470.8568">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="144" y="1489.6808">"request":"configure",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="144" y="1508.5048">"audio":true,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="144" y="1527.3288">"video":true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="117" y="1546.1528">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="117" y="1564.9768">"transaction":"xTTmkSOBwmXs",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="117" y="1583.8009">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="144" y="1602.6249">"type":"offer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="117" y="1621.4489">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="117" y="1640.2729">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="117" y="1659.0969">"handle_id":824373231876398</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="90" y="1677.9209">}</text><polygon fill="#A80036" points="357.5,1721.489,347.5,1725.489,357.5,1729.489,353.5,1725.489" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="1725.489" y2="1725.489"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="363.5" y="1719.745">11:响应ack</text><path d="M625,1700.6649 L625,1728.6649 L1137,1728.6649 L1137,1710.6649 L1127,1700.6649 L625,1700.6649 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1127,1700.6649 L1127,1710.6649 L1137,1710.6649 L1127,1700.6649 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="491" x="631" y="1720.745">{"janus":"ack","session_id":6625688931244104,"transaction":"xTTmkSOBwmXs"}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="620.5" x2="662.5" y1="1763.313" y2="1763.313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="662.5" x2="662.5" y1="1763.313" y2="1776.313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="621.5" x2="662.5" y1="1776.313" y2="1776.313"/><polygon fill="#A80036" points="631.5,1772.313,621.5,1776.313,631.5,1780.313,627.5,1776.313" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="627.5" y="1757.569">12:处理消息</text><polygon fill="#A80036" points="608.5,1904.2571,618.5,1908.2571,608.5,1912.2571,612.5,1908.2571" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="1908.2571" y2="1908.2571"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="353.5" y="1902.5131">13-1:发送candidate,(会发送多次)</text><path d="M92,1789.313 L92,2006.313 L337,2006.313 L337,1799.313 L327,1789.313 L92,1789.313 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,1789.313 L327,1799.313 L337,1799.313 L327,1789.313 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="98" y="1809.393">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="125" y="1828.217">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="125" y="1847.041">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="152" y="1865.865">"candidate":"candidate:...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="152" y="1884.6891">"sdpMid":"0",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="152" y="1903.5131">"sdpMLineIndex":0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="125" y="1922.3371">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="125" y="1941.1611">"transaction":"9N51AkX0Fpfs",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="125" y="1959.9851">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="125" y="1978.8091">"handle_id":824373231876398</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="98" y="1997.6332">}</text><polygon fill="#A80036" points="357.5,2041.2012,347.5,2045.2012,357.5,2049.2012,353.5,2045.2012" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="2045.2012" y2="2045.2012"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="363.5" y="2039.4572">13-2:响应ack,(会响应多次)</text><path d="M625,2020.3772 L625,2048.3772 L1118,2048.3772 L1118,2030.3772 L1108,2020.3772 L625,2020.3772 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1108,2020.3772 L1108,2030.3772 L1118,2030.3772 L1108,2020.3772 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="472" x="631" y="2040.4572">{"janus":"ack","session_id":6625688931244104,"transaction":"9N51AkX0Fpfs"}</text><polygon fill="#A80036" points="357.5,2253.4413,347.5,2257.4413,357.5,2261.4413,353.5,2257.4413" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="2257.4413" y2="2257.4413"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="363.5" y="2251.6973">14：发布成功，answer sdp</text><path d="M625,2063.2012 L625,2430.2012 L918,2430.2012 L918,2073.2012 L908,2063.2012 L625,2063.2012 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M908,2063.2012 L908,2073.2012 L918,2073.2012 L908,2063.2012 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="2083.2812">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="658" y="2102.1052">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="2120.9292">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="658" y="2139.7532">"transaction":"xTTmkSOBwmXs",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="658" y="2158.5773">"sender":824373231876398,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="658" y="2177.4013">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="685" y="2196.2253">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="685" y="2215.0493">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="712" y="2233.8733">"videoroom":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="712" y="2252.6973">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="712" y="2271.5214">"configured":"ok",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="712" y="2290.3454">"audio_codec":"opus",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="712" y="2309.1694">"video_codec":"vp8"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="685" y="2327.9934">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="658" y="2346.8174">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="658" y="2365.6414">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="685" y="2384.4655">"type":"answer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="2403.2895">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="2422.1135">}</text><polygon fill="#A80036" points="608.5,2550.3896,618.5,2554.3896,608.5,2558.3896,612.5,2554.3896" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="2554.3896" y2="2554.3896"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="353.5" y="2529.8216">15:candidate结束,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="353.5" y="2548.6456">13-15之间还有很多candidate的发送省略了</text><path d="M93,2444.8575 L93,2623.8575 L337,2623.8575 L337,2454.8575 L327,2444.8575 L93,2444.8575 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,2444.8575 L327,2454.8575 L337,2454.8575 L327,2444.8575 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="99" y="2464.9375">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="126" y="2483.7615">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="126" y="2502.5855">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="153" y="2521.4096">"completed":true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="126" y="2540.2336">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="126" y="2559.0576">"transaction":"V8rqwgX9VF83",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="126" y="2577.8816">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="126" y="2596.7056">"handle_id":824373231876398</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="99" y="2615.5296">}</text><polygon fill="#A80036" points="357.5,2659.0977,347.5,2663.0977,357.5,2667.0977,353.5,2663.0977" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="2663.0977" y2="2663.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="363.5" y="2657.3537">16:响应ack</text><path d="M625,2638.2736 L625,2666.2736 L1120,2666.2736 L1120,2648.2736 L1110,2638.2736 L625,2638.2736 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1110,2638.2736 L1110,2648.2736 L1120,2648.2736 L1110,2638.2736 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="474" x="631" y="2658.3537">{"janus":"ack","session_id":6625688931244104,"transaction":"V8rqwgX9VF83"}</text><polygon fill="#A80036" points="631.5,2730.1577,621.5,2734.1577,631.5,2738.1577,627.5,2734.1577" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="2734.1577" y2="2734.1577"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="637.5" y="2728.4137">17:请求创建 session</text><path d="M822,2681.0977 L822,2766.0977 L1049,2766.0977 L1049,2691.0977 L1039,2681.0977 L822,2681.0977 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1039,2681.0977 L1039,2691.0977 L1049,2691.0977 L1039,2681.0977 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="2701.1777">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="855" y="2720.0017">"janus":"create",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="855" y="2738.8257">"transaction":"zsihS3J2UjLZ"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="2757.6497">}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="620.5" x2="662.5" y1="2800.2177" y2="2800.2177"/><line style="stroke:#A80036;stroke-width:1.0;" x1="662.5" x2="662.5" y1="2800.2177" y2="2813.2177"/><line style="stroke:#A80036;stroke-width:1.0;" x1="621.5" x2="662.5" y1="2813.2177" y2="2813.2177"/><polygon fill="#A80036" points="631.5,2809.2177,621.5,2813.2177,631.5,2817.2177,627.5,2813.2177" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="627.5" y="2794.4737">18:create session</text><polygon fill="#A80036" points="805.5,2903.5138,815.5,2907.5138,805.5,2911.5138,809.5,2907.5138" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="2907.5138" y2="2907.5138"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="627.5" y="2901.7698">19:返回session ID</text><path d="M380,2826.2177 L380,2967.2177 L611,2967.2177 L611,2836.2177 L601,2826.2177 L380,2826.2177 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,2826.2177 L601,2836.2177 L611,2836.2177 L601,2826.2177 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="386" y="2846.2978">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="413" y="2865.1218">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="413" y="2883.9458">"transaction":"zsihS3J2UjLZ",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="413" y="2902.7698">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="440" y="2921.5938">"id":2480427901265901</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="413" y="2940.4178">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="386" y="2959.2418">}</text><polygon fill="#A80036" points="631.5,3059.2819,621.5,3063.2819,631.5,3067.2819,627.5,3063.2819" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="3063.2819" y2="3063.2819"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="637.5" y="3057.5379">20:绑定插件(发布)</text><path d="M822,2981.9859 L822,3122.9859 L1152,3122.9859 L1152,2991.9859 L1142,2981.9859 L822,2981.9859 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1142,2981.9859 L1142,2991.9859 L1152,2991.9859 L1142,2981.9859 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="3002.0659">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="855" y="3020.8899">"janus":"attach",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="855" y="3039.7139">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="855" y="3058.5379">"opaque_id":"videoroomtest-y2hITJHXKJRO",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="855" y="3077.3619">"transaction":"OVpwSGvZVbDP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="855" y="3096.1859">"session_id":2480427901265901</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="3115.01">}</text><polygon fill="#A80036" points="805.5,3224.462,815.5,3228.462,805.5,3232.462,809.5,3228.462" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="3228.462" y2="3228.462"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="627.5" y="3222.718">21:返回handle ID</text><path d="M362,3137.754 L362,3297.754 L611,3297.754 L611,3147.754 L601,3137.754 L362,3137.754 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,3137.754 L601,3147.754 L611,3147.754 L601,3137.754 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="368" y="3157.834">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="395" y="3176.658">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="395" y="3195.482">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="395" y="3214.306">"transaction":"OVpwSGvZVbDP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="395" y="3233.13">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="422" y="3251.9541">"id":4404724676868865</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="395" y="3270.7781">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="368" y="3289.6021">}</text><polygon fill="#A80036" points="631.5,3436.7022,621.5,3440.7022,631.5,3444.7022,627.5,3440.7022" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="3440.7022" y2="3440.7022"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="637.5" y="3434.9582">22:以发布者将加入房间</text><path d="M822,3312.3461 L822,3547.3461 L1068,3547.3461 L1068,3322.3461 L1058,3312.3461 L822,3312.3461 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1058,3312.3461 L1058,3322.3461 L1068,3322.3461 L1058,3312.3461 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="3332.4261">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="855" y="3351.2501">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="855" y="3370.0741">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="882" y="3388.8982">"request":"join",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="882" y="3407.7222">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="882" y="3426.5462">"ptype":"publisher",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="882" y="3445.3702">"display":"222"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="3464.1942">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="855" y="3483.0182">"transaction":"pUqLVDSTIpQw",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="3501.8423">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="3520.6663">"handle_id":4404724676868865</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="3539.4903">}</text><polygon fill="#A80036" points="805.5,3583.0583,815.5,3587.0583,805.5,3591.0583,809.5,3587.0583" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="3587.0583" y2="3587.0583"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="627.5" y="3581.3143">23:响应ack</text><path d="M106,3562.2343 L106,3590.2343 L611,3590.2343 L611,3572.2343 L601,3562.2343 L106,3562.2343 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,3562.2343 L601,3572.2343 L611,3572.2343 L601,3562.2343 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="484" x="112" y="3582.3143">{"janus":"ack","session_id":2480427901265901,"transaction":"pUqLVDSTIpQw"}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="620.5" x2="662.5" y1="3624.8823" y2="3624.8823"/><line style="stroke:#A80036;stroke-width:1.0;" x1="662.5" x2="662.5" y1="3624.8823" y2="3637.8823"/><line style="stroke:#A80036;stroke-width:1.0;" x1="621.5" x2="662.5" y1="3637.8823" y2="3637.8823"/><polygon fill="#A80036" points="631.5,3633.8823,621.5,3637.8823,631.5,3641.8823,627.5,3637.8823" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="627.5" y="3619.1383">24:处理消息</text><polygon fill="#A80036" points="805.5,3878.7705,815.5,3882.7705,805.5,3886.7705,809.5,3882.7705" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="3882.7705" y2="3882.7705"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="627.5" y="3877.0265">25: join成功</text><path d="M318,3650.8823 L318,4092.8823 L611,4092.8823 L611,3660.8823 L601,3650.8823 L318,3650.8823 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,3650.8823 L601,3660.8823 L611,3660.8823 L601,3650.8823 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="3670.9623">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="351" y="3689.7864">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="351" y="3708.6104">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="351" y="3727.4344">"transaction":"pUqLVDSTIpQw",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="351" y="3746.2584">"sender":4404724676868865,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="351" y="3765.0824">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="378" y="3783.9064">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="378" y="3802.7305">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="405" y="3821.5545">"videoroom":"joined",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="405" y="3840.3785">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="405" y="3859.2025">"description":"Demo Room",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="405" y="3878.0265">"id":3078106228597803,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="405" y="3896.8505">"private_id":1170429074,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="405" y="3915.6746">"publishers":[{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="432" y="3934.4986">"id":8854919062182404,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="432" y="3953.3226">"display":"111",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="432" y="3972.1466">"audio_codec":"opus",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="432" y="3990.9706">"video_codec":"vp8",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="432" y="4009.7946">"talking":false</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="405" y="4028.6187">}]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="378" y="4047.4427">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="351" y="4066.2667">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="4085.0907">}</text><polygon fill="#A80036" points="631.5,4185.1308,621.5,4189.1308,631.5,4193.1308,627.5,4189.1308" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="4189.1308" y2="4189.1308"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="637.5" y="4183.3868">26:绑定插件(订阅)</text><path d="M822,4107.8347 L822,4248.8347 L1152,4248.8347 L1152,4117.8347 L1142,4107.8347 L822,4107.8347 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1142,4107.8347 L1142,4117.8347 L1152,4117.8347 L1142,4107.8347 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="4127.9147">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="855" y="4146.7387">"janus":"attach",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="855" y="4165.5628">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="855" y="4184.3868">"opaque_id":"videoroomtest-y2hITJHXKJRO",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="855" y="4203.2108">"transaction":"czDVrmAFNxEn",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="855" y="4222.0348">"session_id":2480427901265901</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="4240.8588">}</text><polygon fill="#A80036" points="805.5,4350.3109,815.5,4354.3109,805.5,4358.3109,809.5,4354.3109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="4354.3109" y2="4354.3109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="627.5" y="4348.5669">27:返回handle ID</text><path d="M367,4263.6028 L367,4423.6028 L611,4423.6028 L611,4273.6028 L601,4263.6028 L367,4263.6028 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,4263.6028 L601,4273.6028 L611,4273.6028 L601,4263.6028 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="373" y="4283.6828">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="400" y="4302.5069">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="400" y="4321.3309">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="400" y="4340.1549">"transaction":"czDVrmAFNxEn",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="400" y="4358.9789">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="427" y="4377.8029">"id":4373710823681024</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="400" y="4396.6269">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="373" y="4415.451">}</text><polygon fill="#A80036" points="631.5,4571.9631,621.5,4575.9631,631.5,4579.9631,627.5,4575.9631" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="4575.9631" y2="4575.9631"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="637.5" y="4570.2191">28:以订阅者加入房间</text><path d="M822,4438.195 L822,4692.195 L1066,4692.195 L1066,4448.195 L1056,4438.195 L822,4438.195 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1056,4438.195 L1056,4448.195 L1066,4448.195 L1056,4438.195 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="4458.275">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="855" y="4477.099">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="855" y="4495.923">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="882" y="4514.747">"request":"join",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="882" y="4533.571">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="882" y="4552.3951">"ptype":"subscriber",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="882" y="4571.2191">"feed":8854919062182404,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="882" y="4590.0431">"private_id":1170429074</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="4608.8671">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="855" y="4627.6911">"transaction":"g2LA3wcreBG0",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="4646.5151">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="4665.3392">"handle_id":4373710823681024</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="4684.1632">}</text><polygon fill="#A80036" points="805.5,4727.7312,815.5,4731.7312,805.5,4735.7312,809.5,4731.7312" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="4731.7312" y2="4731.7312"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="627.5" y="4725.9872">29:响应ack</text><path d="M112,4706.9072 L112,4734.9072 L611,4734.9072 L611,4716.9072 L601,4706.9072 L112,4706.9072 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,4706.9072 L601,4716.9072 L611,4716.9072 L601,4706.9072 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="478" x="118" y="4726.9872">{"janus":"ack","session_id":2480427901265901,"transaction":"g2LA3wcreBG0"}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="620.5" x2="662.5" y1="4769.5552" y2="4769.5552"/><line style="stroke:#A80036;stroke-width:1.0;" x1="662.5" x2="662.5" y1="4769.5552" y2="4782.5552"/><line style="stroke:#A80036;stroke-width:1.0;" x1="621.5" x2="662.5" y1="4782.5552" y2="4782.5552"/><polygon fill="#A80036" points="631.5,4778.5552,621.5,4782.5552,631.5,4786.5552,627.5,4782.5552" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="627.5" y="4763.8112">30:处理message</text><polygon fill="#A80036" points="631.5,4938.7353,621.5,4942.7353,631.5,4946.7353,627.5,4942.7353" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="4942.7353" y2="4942.7353"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="637.5" y="4936.9913">31:发布流并offer sdp</text><path d="M822,4795.5552 L822,5068.5552 L1069,5068.5552 L1069,4805.5552 L1059,4795.5552 L822,4795.5552 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1059,4795.5552 L1059,4805.5552 L1069,4805.5552 L1059,4795.5552 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="4815.6352">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="855" y="4834.4592">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="855" y="4853.2833">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="882" y="4872.1073">"request":"configure",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="882" y="4890.9313">"audio":true,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="882" y="4909.7553">"video":true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="4928.5793">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="855" y="4947.4033">"transaction":"MmHbTRZA9Jl4",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="855" y="4966.2274">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="882" y="4985.0514">"type":"offer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="5003.8754">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="855" y="5022.6994">"session_id ":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="855" y="5041.5234">"handle_id ":4404724676868865</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="5060.3474">}</text><polygon fill="#A80036" points="631.5,5198.0355,621.5,5202.0355,631.5,5206.0355,627.5,5202.0355" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="5202.0355" y2="5202.0355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="637.5" y="5196.2915">32:发布者发送candidate</text><path d="M822,5083.0914 L822,5300.0914 L1067,5300.0914 L1067,5093.0914 L1057,5083.0914 L822,5083.0914 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1057,5083.0914 L1057,5093.0914 L1067,5093.0914 L1057,5083.0914 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="5103.1715">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="855" y="5121.9955">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="855" y="5140.8195">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="882" y="5159.6435">"candidate":"candidate:...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="882" y="5178.4675">"sdpMid":"0",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="882" y="5197.2915">"sdpMLineIndex":0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="5216.1156">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="855" y="5234.9396">"transaction":"265QGtchXJjY",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="5253.7636">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="5272.5876">"handle_id":4404724676868865</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="5291.4116">}</text><polygon fill="#A80036" points="805.5,5334.9796,815.5,5338.9796,805.5,5342.9796,809.5,5338.9796" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="5338.9796" y2="5338.9796"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="627.5" y="5333.2356">33:响应ack(candidate)</text><path d="M117,5314.1556 L117,5342.1556 L611,5342.1556 L611,5324.1556 L601,5314.1556 L117,5314.1556 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,5314.1556 L601,5324.1556 L611,5324.1556 L601,5314.1556 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="473" x="123" y="5334.2356">{"janus":"ack","session_id":2480427901265901,"transaction":"265QGtchXJjY"}</text><polygon fill="#A80036" points="805.5,5377.8037,815.5,5381.8037,805.5,5385.8037,809.5,5381.8037" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="5381.8037" y2="5381.8037"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="627.5" y="5376.0597">34:响应ack(offer)</text><path d="M105,5356.9796 L105,5384.9796 L611,5384.9796 L611,5366.9796 L601,5356.9796 L105,5356.9796 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,5356.9796 L601,5366.9796 L611,5366.9796 L601,5356.9796 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="485" x="111" y="5377.0597">{"janus":"ack","session_id":2480427901265901,"transaction":"MmHbTRZA9Jl4"}</text><polygon fill="#A80036" points="805.5,5580.6318,815.5,5584.6318,805.5,5588.6318,809.5,5584.6318" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="5584.6318" y2="5584.6318"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="627.5" y="5578.8878">35:订阅者join成功，offer sdp</text><path d="M318,5399.8037 L318,5747.8037 L611,5747.8037 L611,5409.8037 L601,5399.8037 L318,5399.8037 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,5399.8037 L601,5409.8037 L611,5409.8037 L601,5399.8037 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="5419.8837">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="351" y="5438.7077">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="351" y="5457.5317">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="351" y="5476.3557">"transaction":"g2LA3wcreBG0",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="351" y="5495.1797">"sender":4373710823681024,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="351" y="5514.0038">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="378" y="5532.8278">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="378" y="5551.6518">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="405" y="5570.4758">"videoroom":"attached",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="405" y="5589.2998">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="405" y="5608.1238">"id":8854919062182404,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="405" y="5626.9479">"display":"111"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="378" y="5645.7719">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="351" y="5664.5959">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="351" y="5683.4199">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="378" y="5702.2439">"type":"offer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="351" y="5721.0679">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="5739.892">}</text><polygon fill="#A80036" points="805.5,5952.8761,815.5,5956.8761,805.5,5960.8761,809.5,5956.8761" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="5956.8761" y2="5956.8761"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="627.5" y="5951.1321">36:发布成功，answer sdp</text><path d="M318,5762.636 L318,6129.636 L611,6129.636 L611,5772.636 L601,5762.636 L318,5762.636 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,5762.636 L601,5772.636 L611,5772.636 L601,5762.636 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="5782.716">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="351" y="5801.54">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="351" y="5820.364">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="351" y="5839.188">"transaction":"MmHbTRZA9Jl4",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="351" y="5858.012">"sender":4404724676868865,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="351" y="5876.8361">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="378" y="5895.6601">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="378" y="5914.4841">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="405" y="5933.3081">"videoroom":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="405" y="5952.1321">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="405" y="5970.9561">"configured":"ok",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="405" y="5989.7802">"audio_codec":"opus",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="405" y="6008.6042">"video_codec":"vp8"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="378" y="6027.4282">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="351" y="6046.2522">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="351" y="6065.0762">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="378" y="6083.9002">"type":"answer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="351" y="6102.7243">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="6121.5483">}</text><polygon fill="#A80036" points="631.5,6278.0604,621.5,6282.0604,631.5,6286.0604,627.5,6282.0604" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="6282.0604" y2="6282.0604"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="637.5" y="6276.3164">37:开始订阅,answer sdp</text><path d="M822,6144.2923 L822,6398.2923 L1066,6398.2923 L1066,6154.2923 L1056,6144.2923 L822,6144.2923 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1056,6144.2923 L1056,6154.2923 L1066,6154.2923 L1056,6144.2923 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="6164.3723">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="855" y="6183.1963">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="855" y="6202.0203">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="882" y="6220.8443">"request":"start",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="882" y="6239.6684">"room":1234</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="6258.4924">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="855" y="6277.3164">"transaction":"XI7lktMmu3ni",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="855" y="6296.1404">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="882" y="6314.9644">"type":"answer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="6333.7884">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="6352.6125">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="6371.4365">"handle_id":4373710823681024</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="6390.2605">}</text><polygon fill="#A80036" points="805.5,6433.8285,815.5,6437.8285,805.5,6441.8285,809.5,6437.8285" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="6437.8285" y2="6437.8285"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="627.5" y="6432.0845">38:响应ack</text><path d="M118,6413.0045 L118,6441.0045 L611,6441.0045 L611,6423.0045 L601,6413.0045 L118,6413.0045 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,6413.0045 L601,6423.0045 L611,6423.0045 L601,6413.0045 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="472" x="124" y="6433.0845">{"janus":"ack","session_id":2480427901265901,"transaction":"XI7lktMmu3ni"}</text><polygon fill="#A80036" points="805.5,6599.0086,815.5,6603.0086,805.5,6607.0086,809.5,6603.0086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="6603.0086" y2="6603.0086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="627.5" y="6597.2646">39:订阅成功</text><path d="M318,6455.8285 L318,6728.8285 L611,6728.8285 L611,6465.8285 L601,6455.8285 L318,6455.8285 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,6455.8285 L601,6465.8285 L611,6465.8285 L601,6455.8285 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="6475.9085">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="351" y="6494.7325">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="351" y="6513.5566">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="351" y="6532.3806">"transaction":"XI7lktMmu3ni",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="351" y="6551.2046">"sender":4373710823681024,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="351" y="6570.0286">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="378" y="6588.8526">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="378" y="6607.6766">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="405" y="6626.5007">"videoroom":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="405" y="6645.3247">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="405" y="6664.1487">"started":"ok"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="378" y="6682.9727">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="351" y="6701.7967">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="6720.6207">}</text><polygon fill="#A80036" points="631.5,6858.3088,621.5,6862.3088,631.5,6866.3088,627.5,6862.3088" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="6862.3088" y2="6862.3088"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="637.5" y="6856.5648">40:订阅者发送candidate</text><path d="M822,6743.3647 L822,6960.3647 L1067,6960.3647 L1067,6753.3647 L1057,6743.3647 L822,6743.3647 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1057,6743.3647 L1057,6753.3647 L1067,6753.3647 L1057,6743.3647 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="6763.4447">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="855" y="6782.2688">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="855" y="6801.0928">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="882" y="6819.9168">"candidate":"candidate:...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="882" y="6838.7408">"sdpMid":"audio",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="882" y="6857.5648">"sdpMLineIndex":0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="6876.3888">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="6895.2129">"transaction":"qEHTwRt5uhzG",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="6914.0369">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="6932.8609">"handle_id":4373710823681024</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="6951.6849">}</text><polygon fill="#A80036" points="805.5,6995.2529,815.5,6999.2529,805.5,7003.2529,809.5,6999.2529" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="6999.2529" y2="6999.2529"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="627.5" y="6993.5089">41:响应ack</text><path d="M108,6974.4289 L108,7002.4289 L611,7002.4289 L611,6984.4289 L601,6974.4289 L108,6974.4289 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,6974.4289 L601,6984.4289 L611,6984.4289 L601,6974.4289 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="482" x="114" y="6994.5089">{"janus":"ack","session_id":2480427901265901,"transaction":"qEHTwRt5uhzG"}</text><polygon fill="#A80036" points="631.5,7113.373,621.5,7117.373,631.5,7121.373,627.5,7117.373" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="7117.373" y2="7117.373"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="637.5" y="7111.629">42:发布者candidate 结束</text><path d="M822,7017.2529 L822,7196.2529 L1066,7196.2529 L1066,7027.2529 L1056,7017.2529 L822,7017.2529 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1056,7017.2529 L1056,7027.2529 L1066,7027.2529 L1056,7017.2529 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="7037.3329">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="855" y="7056.157">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="855" y="7074.981">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="882" y="7093.805">"completed":true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="7112.629">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="855" y="7131.453">"transaction":"T9e22m0sDTJF",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="7150.277">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="7169.1011">"handle_id":4404724676868865</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="7187.9251">}</text><polygon fill="#A80036" points="805.5,7231.4931,815.5,7235.4931,805.5,7239.4931,809.5,7235.4931" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="7235.4931" y2="7235.4931"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="627.5" y="7229.7491">43:响应ack</text><path d="M110,7210.6691 L110,7238.6691 L611,7238.6691 L611,7220.6691 L601,7210.6691 L110,7210.6691 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,7210.6691 L601,7220.6691 L611,7220.6691 L601,7210.6691 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="116" y="7230.7491">{"janus":"ack","session_id":2480427901265901,"transaction":"T9e22m0sDTJF"}</text><polygon fill="#A80036" points="631.5,7349.6132,621.5,7353.6132,631.5,7357.6132,627.5,7353.6132" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="7353.6132" y2="7353.6132"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="637.5" y="7347.8692">44:订阅者candidate 结束</text><path d="M822,7253.4931 L822,7432.4931 L1071,7432.4931 L1071,7263.4931 L1061,7253.4931 L822,7253.4931 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1061,7253.4931 L1061,7263.4931 L1071,7263.4931 L1061,7253.4931 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="7273.5731">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="855" y="7292.3971">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="855" y="7311.2211">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="882" y="7330.0452">"completed":true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="7348.8692">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="855" y="7367.6932">"transaction":"GWSHHEGqDLof",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="7386.5172">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="7405.3412">"handle_id":4373710823681024</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="7424.1652">}</text><polygon fill="#A80036" points="805.5,7467.7333,815.5,7471.7333,805.5,7475.7333,809.5,7471.7333" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="7471.7333" y2="7471.7333"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="627.5" y="7465.9893">45:响应ack</text><path d="M103,7446.9093 L103,7474.9093 L611,7474.9093 L611,7456.9093 L601,7446.9093 L103,7446.9093 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,7446.9093 L601,7456.9093 L611,7456.9093 L601,7446.9093 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="487" x="109" y="7466.9893">{"janus":"ack","session_id":2480427901265901,"transaction":"GWSHHEGqDLof"}</text><polygon fill="#A80036" points="357.5,7679.9734,347.5,7683.9734,357.5,7687.9734,353.5,7683.9734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="351.5" x2="619.5" y1="7683.9734" y2="7683.9734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="363.5" y="7678.2294">46:广播通知PA有人发布流</text><path d="M625,7489.7333 L625,7856.7333 L918,7856.7333 L918,7499.7333 L908,7489.7333 L625,7489.7333 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M908,7489.7333 L908,7499.7333 L918,7499.7333 L908,7489.7333 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="7509.8133">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="658" y="7528.6373">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="7547.4613">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="658" y="7566.2853">"sender":824373231876398,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="658" y="7585.1093">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="685" y="7603.9334">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="685" y="7622.7574">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="712" y="7641.5814">"videoroom":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="712" y="7660.4054">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="712" y="7679.2294">"publishers":[{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="739" y="7698.0534">"id":3078106228597803,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="739" y="7716.8775">"display":"222",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="739" y="7735.7015">"audio_codec":"opus",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="739" y="7754.5255">"video_codec":"vp8",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="739" y="7773.3495">"talking":false</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="712" y="7792.1735">}]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="685" y="7810.9975">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="7829.8216">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="7848.6456">}</text><polygon fill="#A80036" points="608.5,7958.0977,618.5,7962.0977,608.5,7966.0977,612.5,7962.0977" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="7962.0977" y2="7962.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="353.5" y="7956.3537">47:绑定插件(订阅)</text><path d="M5,7871.3896 L5,8031.3896 L338,8031.3896 L338,7881.3896 L328,7871.3896 L5,7871.3896 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M328,7871.3896 L328,7881.3896 L338,7881.3896 L328,7871.3896 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="7891.4696">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="38" y="7910.2936">"janus":"attach",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="38" y="7929.1176">"plugin":</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="38" y="7947.9416">"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="38" y="7966.7657">"opaque_id":"videoroomtest-JPkbv1yyPQUR",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="38" y="7985.5897">"transaction":"M2rwmSrxvzWn",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="38" y="8004.4137">"session_id":6625688931244104</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="11" y="8023.2377">}</text><polygon fill="#A80036" points="357.5,8132.6898,347.5,8136.6898,357.5,8140.6898,353.5,8136.6898" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="8136.6898" y2="8136.6898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="363.5" y="8130.9458">48:返回handle ID</text><path d="M625,8045.9817 L625,8205.9817 L871,8205.9817 L871,8055.9817 L861,8045.9817 L625,8045.9817 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M861,8045.9817 L861,8055.9817 L871,8055.9817 L861,8045.9817 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="8066.0617">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="658" y="8084.8857">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="8103.7098">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="658" y="8122.5338">"transaction":"M2rwmSrxvzWn",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="658" y="8141.3578">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="685" y="8160.1818">"id":7963264770445835</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="8179.0058">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="8197.8298">}</text><polygon fill="#A80036" points="608.5,8354.342,618.5,8358.342,608.5,8362.342,612.5,8358.342" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="8358.342" y2="8358.342"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="353.5" y="8352.598">49:以订阅者加入房间</text><path d="M90,8220.5738 L90,8474.5738 L337,8474.5738 L337,8230.5738 L327,8220.5738 L90,8220.5738 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,8220.5738 L327,8230.5738 L337,8230.5738 L327,8220.5738 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="96" y="8240.6539">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="123" y="8259.4779">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="123" y="8278.3019">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="150" y="8297.1259">"request":"join",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="150" y="8315.9499">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="150" y="8334.7739">"ptype":"subscriber",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="150" y="8353.598">"feed":3078106228597803,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="150" y="8372.422">"private_id":3411107909</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="123" y="8391.246">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="123" y="8410.07">"transaction":"HDfTm54ELWCa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="123" y="8428.894">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="123" y="8447.718">"handle_id":7963264770445835</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="96" y="8466.5421">}</text><polygon fill="#A80036" points="357.5,8510.1101,347.5,8514.1101,357.5,8518.1101,353.5,8514.1101" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="8514.1101" y2="8514.1101"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="363.5" y="8508.3661">50:响应ack</text><path d="M625,8489.2861 L625,8517.2861 L1131,8517.2861 L1131,8499.2861 L1121,8489.2861 L625,8489.2861 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1121,8489.2861 L1121,8499.2861 L1131,8499.2861 L1121,8489.2861 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="485" x="631" y="8509.3661">{"janus":"ack","session_id":6625688931244104,"transaction":"HDfTm54ELWCa"}</text><polygon fill="#A80036" points="357.5,8712.9382,347.5,8716.9382,357.5,8720.9382,353.5,8716.9382" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="8716.9382" y2="8716.9382"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="363.5" y="8711.1942">51:订阅者join成功，offer sdp</text><path d="M625,8532.1101 L625,8880.1101 L918,8880.1101 L918,8542.1101 L908,8532.1101 L625,8532.1101 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M908,8532.1101 L908,8542.1101 L918,8542.1101 L908,8532.1101 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="8552.1901">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="658" y="8571.0141">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="8589.8381">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="658" y="8608.6621">"transaction":"HDfTm54ELWCa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="658" y="8627.4862">"sender":7963264770445835,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="658" y="8646.3102">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="685" y="8665.1342">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="685" y="8683.9582">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="712" y="8702.7822">"videoroom":"attached",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="712" y="8721.6062">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="712" y="8740.4303">"id":3078106228597803,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="712" y="8759.2543">"display":"222"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="685" y="8778.0783">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="658" y="8796.9023">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="658" y="8815.7263">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="685" y="8834.5503">"type":"offer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="8853.3744">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="8872.1984">}</text><polygon fill="#A80036" points="608.5,9028.7105,618.5,9032.7105,608.5,9036.7105,612.5,9032.7105" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="9032.7105" y2="9032.7105"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="353.5" y="9026.9665">52:开始订阅,并answer sdp</text><path d="M92,8894.9424 L92,9148.9424 L337,9148.9424 L337,8904.9424 L327,8894.9424 L92,8894.9424 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,8894.9424 L327,8904.9424 L337,8904.9424 L327,8894.9424 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="98" y="8915.0224">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="125" y="8933.8464">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="125" y="8952.6704">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="152" y="8971.4944">"request":"start",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="152" y="8990.3185">"room":1234</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="125" y="9009.1425">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="125" y="9027.9665">"transaction":"8XQ3BDlQqQVa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="125" y="9046.7905">"jsep":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="152" y="9065.6145">"type":"answer","sdp":"..."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="125" y="9084.4385">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="125" y="9103.2626">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="125" y="9122.0866">"handle_id":7963264770445835</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="98" y="9140.9106">}</text><polygon fill="#A80036" points="357.5,9184.4786,347.5,9188.4786,357.5,9192.4786,353.5,9188.4786" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="9188.4786" y2="9188.4786"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="363.5" y="9182.7346">53:响应ack</text><path d="M625,9163.6546 L625,9191.6546 L1129,9191.6546 L1129,9173.6546 L1119,9163.6546 L625,9163.6546 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1119,9163.6546 L1119,9173.6546 L1129,9173.6546 L1119,9163.6546 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="483" x="631" y="9183.7346">{"janus":"ack","session_id":6625688931244104,"transaction":"8XQ3BDlQqQVa"}</text><polygon fill="#A80036" points="357.5,9349.6587,347.5,9353.6587,357.5,9357.6587,353.5,9353.6587" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="9353.6587" y2="9353.6587"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="363.5" y="9347.9147">54：订阅成功</text><path d="M625,9206.4786 L625,9479.4786 L918,9479.4786 L918,9216.4786 L908,9206.4786 L625,9206.4786 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M908,9206.4786 L908,9216.4786 L918,9216.4786 L908,9206.4786 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="9226.5586">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="658" y="9245.3826">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="9264.2067">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="658" y="9283.0307">"transaction":"8XQ3BDlQqQVa",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="658" y="9301.8547">"sender":7963264770445835,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="658" y="9320.6787">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="685" y="9339.5027">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="685" y="9358.3267">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="712" y="9377.1508">"videoroom":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="712" y="9395.9748">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="712" y="9414.7988">"started":"ok"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="685" y="9433.6228">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="9452.4468">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="9471.2708">}</text><polygon fill="#A80036" points="608.5,9608.9589,618.5,9612.9589,608.5,9616.9589,612.5,9612.9589" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="9612.9589" y2="9612.9589"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="353.5" y="9607.2149">55:发送candidate</text><path d="M92,9494.0148 L92,9711.0148 L337,9711.0148 L337,9504.0148 L327,9494.0148 L92,9494.0148 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,9494.0148 L327,9504.0148 L337,9504.0148 L327,9494.0148 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="98" y="9514.0949">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="125" y="9532.9189">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="125" y="9551.7429">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="152" y="9570.5669">"candidate":"candidate:...",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="152" y="9589.3909">"sdpMid":"audio",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="152" y="9608.2149">"sdpMLineIndex":0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="125" y="9627.039">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="125" y="9645.863">"transaction":"4aWxXAIz6uAg",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="125" y="9664.687">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="125" y="9683.511">"handle_id":7963264770445835</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="98" y="9702.335">}</text><polygon fill="#A80036" points="357.5,9745.903,347.5,9749.903,357.5,9753.903,353.5,9749.903" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="9749.903" y2="9749.903"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="363.5" y="9744.159">56:响应ack</text><path d="M625,9725.079 L625,9753.079 L1120,9753.079 L1120,9735.079 L1110,9725.079 L625,9725.079 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1110,9725.079 L1110,9735.079 L1120,9735.079 L1110,9725.079 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="474" x="631" y="9745.159">{"janus":"ack","session_id":6625688931244104,"transaction":"4aWxXAIz6uAg"}</text><polygon fill="#A80036" points="608.5,9864.0231,618.5,9868.0231,608.5,9872.0231,612.5,9868.0231" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="9868.0231" y2="9868.0231"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="353.5" y="9862.2791">57:candidate结束</text><path d="M93,9767.903 L93,9946.903 L337,9946.903 L337,9777.903 L327,9767.903 L93,9767.903 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,9767.903 L327,9777.903 L337,9777.903 L327,9767.903 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="99" y="9787.9831">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="126" y="9806.8071">"janus":"trickle",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="126" y="9825.6311">"candidate":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="153" y="9844.4551">"completed":true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="126" y="9863.2791">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="126" y="9882.1031">"transaction":"huRNGzDx0Ynq",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="126" y="9900.9272">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="126" y="9919.7512">"handle_id":7963264770445835</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="99" y="9938.5752">}</text><polygon fill="#A80036" points="357.5,9982.1432,347.5,9986.1432,357.5,9990.1432,353.5,9986.1432" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="9986.1432" y2="9986.1432"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="363.5" y="9980.3992">58:响应ack</text><path d="M625,9961.3192 L625,9989.3192 L1127,9989.3192 L1127,9971.3192 L1117,9961.3192 L625,9961.3192 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1117,9961.3192 L1117,9971.3192 L1127,9971.3192 L1117,9961.3192 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="481" x="631" y="9981.3992">{"janus":"ack","session_id":6625688931244104,"transaction":"huRNGzDx0Ynq"}</text><polygon fill="#A80036" points="631.5,10100.2633,621.5,10104.2633,631.5,10108.2633,627.5,10104.2633" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="10104.2633" y2="10104.2633"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="637.5" y="10098.5193">59:停止发布流</text><path d="M822,10004.1432 L822,10183.1432 L1066,10183.1432 L1066,10014.1432 L1056,10004.1432 L822,10004.1432 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1056,10004.1432 L1056,10014.1432 L1066,10014.1432 L1056,10004.1432 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="10024.2232">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="855" y="10043.0472">"janus":"message",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="855" y="10061.8713">"body":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="882" y="10080.6953">"request":"unpublish"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="855" y="10099.5193">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="855" y="10118.3433">"transaction":"aVh8pPREYiU6",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="855" y="10137.1673">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="855" y="10155.9913">"handle_id":4404724676868865</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="10174.8154">}</text><polygon fill="#A80036" points="805.5,10218.3834,815.5,10222.3834,805.5,10226.3834,809.5,10222.3834" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="10222.3834" y2="10222.3834"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="627.5" y="10216.6394">60:响应ack</text><path d="M114,10197.5594 L114,10225.5594 L611,10225.5594 L611,10207.5594 L601,10197.5594 L114,10197.5594 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,10197.5594 L601,10207.5594 L611,10207.5594 L601,10197.5594 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="476" x="120" y="10217.6394">{"janus":"ack","session_id":2480427901265901,"transaction":"aVh8pPREYiU6"}</text><polygon fill="#A80036" points="357.5,10374.1515,347.5,10378.1515,357.5,10382.1515,353.5,10378.1515" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="351.5" x2="619.5" y1="10378.1515" y2="10378.1515"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="363.5" y="10372.4075">61:广播通知PA有人停止发布流</text><path d="M625,10240.3834 L625,10494.3834 L935,10494.3834 L935,10250.3834 L925,10240.3834 L625,10240.3834 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M925,10240.3834 L925,10250.3834 L935,10250.3834 L925,10240.3834 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="10260.4634">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="658" y="10279.2874">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="10298.1114">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="658" y="10316.9354">"sender":824373231876398,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="658" y="10335.7595">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="685" y="10354.5835">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="685" y="10373.4075">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="712" y="10392.2315">"videoroom":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="712" y="10411.0555">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="712" y="10429.8795">"unpublished":3078106228597803</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="685" y="10448.7036">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658" y="10467.5276">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="10486.3516">}</text><polygon fill="#A80036" points="805.5,10652.2757,815.5,10656.2757,805.5,10660.2757,809.5,10656.2757" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="10656.2757" y2="10656.2757"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="627.5" y="10650.5317">62:停止发布ok</text><path d="M318,10509.0956 L318,10782.0956 L611,10782.0956 L611,10519.0956 L601,10509.0956 L318,10509.0956 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,10509.0956 L601,10519.0956 L611,10519.0956 L601,10509.0956 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="10529.1756">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="351" y="10547.9996">"janus":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="351" y="10566.8236">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="351" y="10585.6476">"transaction":"aVh8pPREYiU6",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="351" y="10604.4717">"sender":4404724676868865,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="351" y="10623.2957">"plugindata":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="378" y="10642.1197">"plugin":"janus.plugin.videoroom",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="378" y="10660.9437">"data":{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="405" y="10679.7677">"videoroom":"event",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="405" y="10698.5917">"room":1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="405" y="10717.4158">"unpublished":"ok"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="378" y="10736.2398">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="351" y="10755.0638">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="324" y="10773.8878">}</text><polygon fill="#A80036" points="608.5,10864.5159,618.5,10868.5159,608.5,10872.5159,612.5,10868.5159" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="346.5" x2="614.5" y1="10868.5159" y2="10868.5159"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="353.5" y="10862.7719">63:PA订阅者断开连接</text><path d="M93,10796.6318 L93,10918.6318 L337,10918.6318 L337,10806.6318 L327,10796.6318 L93,10796.6318 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M327,10796.6318 L327,10806.6318 L337,10806.6318 L327,10796.6318 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="99" y="10816.7118">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="126" y="10835.5358">"janus":"detach",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="126" y="10854.3599">"transaction":"F1sep8Lu0K9m",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="126" y="10873.1839">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="126" y="10892.0079">"handle_id":7963264770445835</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="99" y="10910.8319">}</text><polygon fill="#A80036" points="357.5,10992.048,347.5,10996.048,357.5,11000.048,353.5,10996.048" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="351.5" x2="619.5" y1="10996.048" y2="10996.048"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="363.5" y="10990.304">64:断开成功</text><path d="M625,10933.5759 L625,11037.5759 L869,11037.5759 L869,10943.5759 L859,10933.5759 L625,10933.5759 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M859,10933.5759 L859,10943.5759 L869,10943.5759 L859,10933.5759 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="10953.6559">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="658" y="10972.4799">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="658" y="10991.304">"session_id":6625688931244104,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="658" y="11010.128">"transaction":"F1sep8Lu0K9m"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="631" y="11028.952">}</text><polygon fill="#A80036" points="631.5,11110.1681,621.5,11114.1681,631.5,11118.1681,627.5,11114.1681" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625.5" x2="816.5" y1="11114.1681" y2="11114.1681"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="637.5" y="11108.424">65:PB退出,销毁session</text><path d="M822,11051.696 L822,11155.696 L1065,11155.696 L1065,11061.696 L1055,11051.696 L822,11051.696 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1055,11051.696 L1055,11061.696 L1065,11061.696 L1055,11051.696 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="11071.776">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="855" y="11090.6">"janus":"destroy",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="855" y="11109.424">"transaction":"uQJVtjCezNGB",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="855" y="11128.2481">"session_id":2480427901265901</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="828" y="11147.0721">}</text><polygon fill="#A80036" points="805.5,11228.2881,815.5,11232.2881,805.5,11236.2881,809.5,11232.2881" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620.5" x2="811.5" y1="11232.2881" y2="11232.2881"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="627.5" y="11226.5441">66:PB销毁成功</text><path d="M367,11169.8161 L367,11273.8161 L611,11273.8161 L611,11179.8161 L601,11169.8161 L367,11169.8161 " fill="#FBFB77" filter="url(#f10yhb7v0btagz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M601,11169.8161 L601,11179.8161 L611,11179.8161 L601,11169.8161 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="373" y="11189.8961">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="400" y="11208.7201">"janus":"success",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="400" y="11227.5441">"session_id":2480427901265901,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="400" y="11246.3681">"transaction":"uQJVtjCezNGB"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="373" y="11265.1922">}</text><!--MD5=[8f2a9c19c1237fe858fb5532f4c7bc48]
@startuml

title Janus Signaling UML
participant "Client A" as PA order 1
participant Gateway order 2
participant "Client B" as PB order 3

'定义n为换行
!$n = "\r\n"
'定义tab为九个空格
!$tab = "         "
'定义ntb为换行+九个空格，用于格式化json
!$ntb = "\n         "
'定义nttb为换行+18个空格，用于格式化json
!$nttb = "\n                  "
'定义ntttb为换行+27个空格，用于格式化json
!$ntttb = "\n                           "
'定义nttttb为换行+36个空格，用于格式化json
!$nttttb = "\n                                    "

'PA 加入房间流程，这时房间还没有人,PA只需发布流
PA -> Gateway : 1:请求创建session
note left : {$ntb"janus":"create",$ntb"transaction":"xquco8PifpXy"$n} 
Gateway -> Gateway : 2:create session
Gateway - -> PA : 3:返回session ID
note right : {$ntb"janus":"success",$ntb"transaction":"xquco8PifpXy",$ntb"data":{$nttb"id":6625688931244104 $ntb}$n}

PA -> Gateway : 4:绑定插件
note left : {$ntb"janus":"attach",$ntb"plugin":"janus.plugin.videoroom",$ntb"opaque_id":"videoroomtest-JPkbv1yyPQUR",$ntb"transaction":"JUQN8RGGqI8x",$ntb"session_id":6625688931244104 $n}
Gateway - -> PA : 5:返回handle ID
note right : {$ntb"janus":"success",$ntb"session_id":6625688931244104,$ntb"transaction":"JUQN8RGGqI8x",$ntb"data":{$nttb"id":824373231876398 $ntb}$n}

PA -> Gateway : 6:以发布者加入房间
note left : {$ntb"janus":"message",$ntb"body":{$nttb"request":"join",$nttb"room":1234,$nttb"ptype":"publisher",$nttb"display":"111"$ntb},$ntb"transaction":"M9udNzObUT6U",$ntb"session_id":6625688931244104,$ntb"handle_id":824373231876398 $n}
Gateway - -> PA : 7:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"M9udNzObUT6U"}
Gateway -> Gateway : 8:处理message
Gateway - -> PA : 9: join 成功
note right : {$ntb"janus":"event",$ntb"session_id":6625688931244104,$ntb"transaction":"M9udNzObUT6U",$ntb"sender":824373231876398,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"joined",$ntttb"room":1234,$ntttb"description":"Demo Room",$ntttb"id":8854919062182404,$ntttb"private_id":3411107909,$ntttb"publishers":[]$nttb}$ntb}$n}

PA -> Gateway : 10:发布流并offer sdp
note left : {$ntb"janus":"message",$ntb"body":{$nttb"request":"configure",$nttb"audio":true,$nttb"video":true $ntb},$ntb"transaction":"xTTmkSOBwmXs",$ntb"jsep":{$nttb"type":"offer","sdp":"..."$ntb},$ntb"session_id":6625688931244104,$ntb"handle_id":824373231876398 $n}
Gateway - -> PA : 11:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"xTTmkSOBwmXs"}
Gateway -> Gateway : 12:处理消息
PA -> Gateway : 13-1:发送candidate,(会发送多次)
note left : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"candidate":"candidate:...",$nttb"sdpMid":"0",$nttb"sdpMLineIndex":0 $ntb},$ntb"transaction":"9N51AkX0Fpfs",$ntb"session_id":6625688931244104,$ntb"handle_id":824373231876398 $n}
Gateway - -> PA : 13-2:响应ack,(会响应多次)
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"9N51AkX0Fpfs"}
Gateway - -> PA : 14：发布成功，answer sdp
note right : {$ntb"janus":"event",$ntb"session_id":6625688931244104,$ntb"transaction":"xTTmkSOBwmXs",$ntb"sender":824373231876398,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"event",$ntttb"room":1234,$ntttb"configured":"ok",$ntttb"audio_codec":"opus",$ntttb"video_codec":"vp8"$nttb}$ntb},$ntb"jsep":{$nttb"type":"answer","sdp":"..."$ntb}$n}
PA -> Gateway : 15:candidate结束,\n13-15之间还有很多candidate的发送省略了
note left : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"completed":true $ntb},$ntb"transaction":"V8rqwgX9VF83",$ntb"session_id":6625688931244104,$ntb"handle_id":824373231876398 $n}
Gateway - -> PA : 16:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"V8rqwgX9VF83"}

'PB 加入房间流程，这时PA已经在房间里,PB既需要发布流又需要订阅流
PB -> Gateway : 17:请求创建 session
note right : {$ntb"janus":"create",$ntb"transaction":"zsihS3J2UjLZ"$n}
Gateway -> Gateway : 18:create session
Gateway - -> PB : 19:返回session ID
note left : {$ntb"janus":"success",$ntb"transaction":"zsihS3J2UjLZ",$ntb"data":{$nttb"id":2480427901265901 $ntb}$n}

PB -> Gateway : 20:绑定插件(发布)
note right : {$ntb"janus":"attach",$ntb"plugin":"janus.plugin.videoroom",$ntb"opaque_id":"videoroomtest-y2hITJHXKJRO",$ntb"transaction":"OVpwSGvZVbDP",$ntb"session_id":2480427901265901 $n}
Gateway - -> PB : 21:返回handle ID
note left : {$ntb"janus":"success",$ntb"session_id":2480427901265901,$ntb"transaction":"OVpwSGvZVbDP",$ntb"data":{$nttb"id":4404724676868865 $ntb}$n}

PB -> Gateway : 22:以发布者将加入房间
note right : {$ntb"janus":"message",$ntb"body":{$nttb"request":"join",$nttb"room":1234,$nttb"ptype":"publisher",$nttb"display":"222"$ntb},$ntb"transaction":"pUqLVDSTIpQw",$ntb"session_id":2480427901265901,$ntb"handle_id":4404724676868865 $n}
Gateway - -> PB : 23:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"pUqLVDSTIpQw"}
Gateway -> Gateway : 24:处理消息
Gateway - -> PB : 25: join成功
note left : {$ntb"janus":"event",$ntb"session_id":2480427901265901,$ntb"transaction":"pUqLVDSTIpQw",$ntb"sender":4404724676868865,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"joined",$ntttb"room":1234,$ntttb"description":"Demo Room",$ntttb"id":3078106228597803,$ntttb"private_id":1170429074,$ntttb"publishers":[{$nttttb"id":8854919062182404,$nttttb"display":"111",$nttttb"audio_codec":"opus",$nttttb"video_codec":"vp8",$nttttb"talking":false $ntttb}]$nttb}$ntb}$n}

PB -> Gateway : 26:绑定插件(订阅)
note right : {$ntb"janus":"attach",$ntb"plugin":"janus.plugin.videoroom",$ntb"opaque_id":"videoroomtest-y2hITJHXKJRO",$ntb"transaction":"czDVrmAFNxEn",$ntb"session_id":2480427901265901 $n}
Gateway - -> PB : 27:返回handle ID
note left : {$ntb"janus":"success",$ntb"session_id":2480427901265901,$ntb"transaction":"czDVrmAFNxEn",$ntb"data":{$nttb"id":4373710823681024 $ntb}$n}

PB -> Gateway : 28:以订阅者加入房间
note right : {$ntb"janus":"message",$ntb"body":{$nttb"request":"join",$nttb"room":1234,$nttb"ptype":"subscriber",$nttb"feed":8854919062182404,$nttb"private_id":1170429074 $ntb},$ntb"transaction":"g2LA3wcreBG0",$ntb"session_id":2480427901265901,$ntb"handle_id":4373710823681024 $n}
Gateway - -> PB : 29:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"g2LA3wcreBG0"}
Gateway -> Gateway : 30:处理message

PB -> Gateway : 31:发布流并offer sdp
note right : {$ntb"janus":"message",$ntb"body":{$nttb"request":"configure",$nttb"audio":true,$nttb"video":true $ntb},$ntb"transaction":"MmHbTRZA9Jl4",$ntb"jsep":{$nttb"type":"offer","sdp":"..."$ntb},$ntb"session_id ":2480427901265901,$ntb"handle_id ":4404724676868865 $n}
PB -> Gateway : 32:发布者发送candidate
note right : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"candidate":"candidate:...",$nttb"sdpMid":"0",$nttb"sdpMLineIndex":0 $ntb},$ntb"transaction":"265QGtchXJjY",$ntb"session_id":2480427901265901,$ntb"handle_id":4404724676868865 $n}
Gateway - -> PB : 33:响应ack(candidate)
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"265QGtchXJjY"}
Gateway - -> PB : 34:响应ack(offer)
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"MmHbTRZA9Jl4"} 

Gateway - -> PB : 35:订阅者join成功，offer sdp
note left : {$ntb"janus":"event",$ntb"session_id":2480427901265901,$ntb"transaction":"g2LA3wcreBG0",$ntb"sender":4373710823681024,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"attached",$ntttb"room":1234,$ntttb"id":8854919062182404,$ntttb"display":"111"$nttb}$ntb},$ntb"jsep":{$nttb"type":"offer","sdp":"..."$ntb}$n}
Gateway - -> PB : 36:发布成功，answer sdp
note left : {$ntb"janus":"event",$ntb"session_id":2480427901265901,$ntb"transaction":"MmHbTRZA9Jl4",$ntb"sender":4404724676868865,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"event",$ntttb"room":1234,$ntttb"configured":"ok",$ntttb"audio_codec":"opus",$ntttb"video_codec":"vp8"$nttb}$ntb},$ntb"jsep":{$nttb"type":"answer","sdp":"..."$ntb}$n}

PB -> Gateway : 37:开始订阅,answer sdp
note right : {$ntb"janus":"message",$ntb"body":{$nttb"request":"start",$nttb"room":1234 $ntb},$ntb"transaction":"XI7lktMmu3ni",$ntb"jsep":{$nttb"type":"answer","sdp":"..."$ntb},$ntb"session_id":2480427901265901,$ntb"handle_id":4373710823681024 $n}
Gateway - -> PB : 38:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"XI7lktMmu3ni"}
Gateway - -> PB : 39:订阅成功
note left : {$ntb"janus":"event",$ntb"session_id":2480427901265901,$ntb"transaction":"XI7lktMmu3ni",$ntb"sender":4373710823681024,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"event",$ntttb"room":1234,$ntttb"started":"ok"$nttb}$ntb}$n}
PB -> Gateway : 40:订阅者发送candidate
note right : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"candidate":"candidate:...",$nttb"sdpMid":"audio",$nttb"sdpMLineIndex":0 $ntb},$ntb"transaction":"qEHTwRt5uhzG",$ntb"session_id":2480427901265901,$ntb"handle_id":4373710823681024 $n}
Gateway - -> PB : 41:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"qEHTwRt5uhzG"}

PB -> Gateway : 42:发布者candidate 结束
note right : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"completed":true $ntb},$ntb"transaction":"T9e22m0sDTJF",$ntb"session_id":2480427901265901,$ntb"handle_id":4404724676868865 $n}
Gateway - -> PB : 43:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"T9e22m0sDTJF"}
PB -> Gateway : 44:订阅者candidate 结束
note right : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"completed":true $ntb},$ntb"transaction":"GWSHHEGqDLof",$ntb"session_id":2480427901265901,$ntb"handle_id":4373710823681024 $n}
Gateway - -> PB : 45:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"GWSHHEGqDLof"}

'PB发布流后PA端开始订阅
Gateway -> PA : 46:广播通知PA有人发布流
note right : {$ntb"janus":"event",$ntb"session_id":6625688931244104,$ntb"sender":824373231876398,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"event",$ntttb"room":1234,$ntttb"publishers":[{$nttttb"id":3078106228597803,$nttttb"display":"222",$nttttb"audio_codec":"opus",$nttttb"video_codec":"vp8",$nttttb"talking":false $ntttb}]$nttb}$ntb}$n}
PA -> Gateway : 47:绑定插件(订阅)
note left : {$ntb"janus":"attach",$ntb"plugin":$ntb"janus.plugin.videoroom",$ntb"opaque_id":"videoroomtest-JPkbv1yyPQUR",$ntb"transaction":"M2rwmSrxvzWn",$ntb"session_id":6625688931244104 $n}
Gateway - -> PA : 48:返回handle ID
note right : {$ntb"janus":"success",$ntb"session_id":6625688931244104,$ntb"transaction":"M2rwmSrxvzWn",$ntb"data":{$nttb"id":7963264770445835 $ntb}$n}

PA -> Gateway : 49:以订阅者加入房间
note left : {$ntb"janus":"message",$ntb"body":{$nttb"request":"join",$nttb"room":1234,$nttb"ptype":"subscriber",$nttb"feed":3078106228597803,$nttb"private_id":3411107909 $ntb},$ntb"transaction":"HDfTm54ELWCa",$ntb"session_id":6625688931244104,$ntb"handle_id":7963264770445835 $n}
Gateway - -> PA : 50:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"HDfTm54ELWCa"}
Gateway - -> PA : 51:订阅者join成功，offer sdp
note right : {$ntb"janus":"event",$ntb"session_id":6625688931244104,$ntb"transaction":"HDfTm54ELWCa",$ntb"sender":7963264770445835,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"attached",$ntttb"room":1234,$ntttb"id":3078106228597803,$ntttb"display":"222"$nttb}$ntb},$ntb"jsep":{$nttb"type":"offer","sdp":"..."$ntb}$n}
PA -> Gateway : 52:开始订阅,并answer sdp
note left : {$ntb"janus":"message",$ntb"body":{$nttb"request":"start",$nttb"room":1234 $ntb},$ntb"transaction":"8XQ3BDlQqQVa",$ntb"jsep":{$nttb"type":"answer","sdp":"..."$ntb},$ntb"session_id":6625688931244104,$ntb"handle_id":7963264770445835 $n}
Gateway - -> PA : 53:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"8XQ3BDlQqQVa"}
Gateway - -> PA : 54：订阅成功
note right : {$ntb"janus":"event",$ntb"session_id":6625688931244104,$ntb"transaction":"8XQ3BDlQqQVa",$ntb"sender":7963264770445835,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"event",$ntttb"room":1234,$ntttb"started":"ok"$nttb}$ntb}$n}

PA -> Gateway : 55:发送candidate
note left : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"candidate":"candidate:...",$nttb"sdpMid":"audio",$nttb"sdpMLineIndex":0 $ntb},$ntb"transaction":"4aWxXAIz6uAg",$ntb"session_id":6625688931244104,$ntb"handle_id":7963264770445835 $n}
Gateway - -> PA : 56:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"4aWxXAIz6uAg"}
PA -> Gateway : 57:candidate结束
note left : {$ntb"janus":"trickle",$ntb"candidate":{$nttb"completed":true $ntb},$ntb"transaction":"huRNGzDx0Ynq",$ntb"session_id":6625688931244104,$ntb"handle_id":7963264770445835 $n}
Gateway - -> PA : 58:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"huRNGzDx0Ynq"}

'PB停止发布流并退出
PB -> Gateway : 59:停止发布流
note right : {$ntb"janus":"message",$ntb"body":{$nttb"request":"unpublish"$ntb},$ntb"transaction":"aVh8pPREYiU6",$ntb"session_id":2480427901265901,$ntb"handle_id":4404724676868865 $n}
Gateway - -> PB : 60:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"aVh8pPREYiU6"}
Gateway -> PA : 61:广播通知PA有人停止发布流
note right : {$ntb"janus":"event",$ntb"session_id":6625688931244104,$ntb"sender":824373231876398,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"event",$ntttb"room":1234,$ntttb"unpublished":3078106228597803 $nttb}$ntb}$n}
Gateway - -> PB : 62:停止发布ok
note left : {$ntb"janus":"event",$ntb"session_id":2480427901265901,$ntb"transaction":"aVh8pPREYiU6",$ntb"sender":4404724676868865,$ntb"plugindata":{$nttb"plugin":"janus.plugin.videoroom",$nttb"data":{$ntttb"videoroom":"event",$ntttb"room":1234,$ntttb"unpublished":"ok"$nttb}$ntb}$n}

PA -> Gateway : 63:PA订阅者断开连接 
note left : {$ntb"janus":"detach",$ntb"transaction":"F1sep8Lu0K9m",$ntb"session_id":6625688931244104,$ntb"handle_id":7963264770445835 $n}
Gateway - -> PA : 64:断开成功
note right : {$ntb"janus":"success",$ntb"session_id":6625688931244104,$ntb"transaction":"F1sep8Lu0K9m"$n}

PB -> Gateway : 65:PB退出,销毁session
note right : {$ntb"janus":"destroy",$ntb"transaction":"uQJVtjCezNGB",$ntb"session_id":2480427901265901 $n} 
Gateway - -> PB : 66:PB销毁成功
note left : {$ntb"janus":"success",$ntb"session_id":2480427901265901,$ntb"transaction":"uQJVtjCezNGB"$n}

@enduml

@startuml

title Janus Signaling UML
participant "Client A" as PA order 1
participant Gateway order 2
participant "Client B" as PB order 3


PA -> Gateway : 1:请求创建session
note left : {\n         "janus":"create",\n         "transaction":"xquco8PifpXy"\r\n} 
Gateway -> Gateway : 2:create session
Gateway - -> PA : 3:返回session ID
note right : {\n         "janus":"success",\n         "transaction":"xquco8PifpXy",\n         "data":{\n                  "id":6625688931244104 \n         }\r\n}

PA -> Gateway : 4:绑定插件
note left : {\n         "janus":"attach",\n         "plugin":"janus.plugin.videoroom",\n         "opaque_id":"videoroomtest-JPkbv1yyPQUR",\n         "transaction":"JUQN8RGGqI8x",\n         "session_id":6625688931244104 \r\n}
Gateway - -> PA : 5:返回handle ID
note right : {\n         "janus":"success",\n         "session_id":6625688931244104,\n         "transaction":"JUQN8RGGqI8x",\n         "data":{\n                  "id":824373231876398 \n         }\r\n}

PA -> Gateway : 6:以发布者加入房间
note left : {\n         "janus":"message",\n         "body":{\n                  "request":"join",\n                  "room":1234,\n                  "ptype":"publisher",\n                  "display":"111"\n         },\n         "transaction":"M9udNzObUT6U",\n         "session_id":6625688931244104,\n         "handle_id":824373231876398 \r\n}
Gateway - -> PA : 7:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"M9udNzObUT6U"}
Gateway -> Gateway : 8:处理message
Gateway - -> PA : 9: join 成功
note right : {\n         "janus":"event",\n         "session_id":6625688931244104,\n         "transaction":"M9udNzObUT6U",\n         "sender":824373231876398,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"joined",\n                           "room":1234,\n                           "description":"Demo Room",\n                           "id":8854919062182404,\n                           "private_id":3411107909,\n                           "publishers":[]\n                  }\n         }\r\n}

PA -> Gateway : 10:发布流并offer sdp
note left : {\n         "janus":"message",\n         "body":{\n                  "request":"configure",\n                  "audio":true,\n                  "video":true \n         },\n         "transaction":"xTTmkSOBwmXs",\n         "jsep":{\n                  "type":"offer","sdp":"..."\n         },\n         "session_id":6625688931244104,\n         "handle_id":824373231876398 \r\n}
Gateway - -> PA : 11:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"xTTmkSOBwmXs"}
Gateway -> Gateway : 12:处理消息
PA -> Gateway : 13-1:发送candidate,(会发送多次)
note left : {\n         "janus":"trickle",\n         "candidate":{\n                  "candidate":"candidate:...",\n                  "sdpMid":"0",\n                  "sdpMLineIndex":0 \n         },\n         "transaction":"9N51AkX0Fpfs",\n         "session_id":6625688931244104,\n         "handle_id":824373231876398 \r\n}
Gateway - -> PA : 13-2:响应ack,(会响应多次)
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"9N51AkX0Fpfs"}
Gateway - -> PA : 14：发布成功，answer sdp
note right : {\n         "janus":"event",\n         "session_id":6625688931244104,\n         "transaction":"xTTmkSOBwmXs",\n         "sender":824373231876398,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"event",\n                           "room":1234,\n                           "configured":"ok",\n                           "audio_codec":"opus",\n                           "video_codec":"vp8"\n                  }\n         },\n         "jsep":{\n                  "type":"answer","sdp":"..."\n         }\r\n}
PA -> Gateway : 15:candidate结束,\n13-15之间还有很多candidate的发送省略了
note left : {\n         "janus":"trickle",\n         "candidate":{\n                  "completed":true \n         },\n         "transaction":"V8rqwgX9VF83",\n         "session_id":6625688931244104,\n         "handle_id":824373231876398 \r\n}
Gateway - -> PA : 16:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"V8rqwgX9VF83"}

PB -> Gateway : 17:请求创建 session
note right : {\n         "janus":"create",\n         "transaction":"zsihS3J2UjLZ"\r\n}
Gateway -> Gateway : 18:create session
Gateway - -> PB : 19:返回session ID
note left : {\n         "janus":"success",\n         "transaction":"zsihS3J2UjLZ",\n         "data":{\n                  "id":2480427901265901 \n         }\r\n}

PB -> Gateway : 20:绑定插件(发布)
note right : {\n         "janus":"attach",\n         "plugin":"janus.plugin.videoroom",\n         "opaque_id":"videoroomtest-y2hITJHXKJRO",\n         "transaction":"OVpwSGvZVbDP",\n         "session_id":2480427901265901 \r\n}
Gateway - -> PB : 21:返回handle ID
note left : {\n         "janus":"success",\n         "session_id":2480427901265901,\n         "transaction":"OVpwSGvZVbDP",\n         "data":{\n                  "id":4404724676868865 \n         }\r\n}

PB -> Gateway : 22:以发布者将加入房间
note right : {\n         "janus":"message",\n         "body":{\n                  "request":"join",\n                  "room":1234,\n                  "ptype":"publisher",\n                  "display":"222"\n         },\n         "transaction":"pUqLVDSTIpQw",\n         "session_id":2480427901265901,\n         "handle_id":4404724676868865 \r\n}
Gateway - -> PB : 23:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"pUqLVDSTIpQw"}
Gateway -> Gateway : 24:处理消息
Gateway - -> PB : 25: join成功
note left : {\n         "janus":"event",\n         "session_id":2480427901265901,\n         "transaction":"pUqLVDSTIpQw",\n         "sender":4404724676868865,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"joined",\n                           "room":1234,\n                           "description":"Demo Room",\n                           "id":3078106228597803,\n                           "private_id":1170429074,\n                           "publishers":[{\n                                    "id":8854919062182404,\n                                    "display":"111",\n                                    "audio_codec":"opus",\n                                    "video_codec":"vp8",\n                                    "talking":false \n                           }]\n                  }\n         }\r\n}

PB -> Gateway : 26:绑定插件(订阅)
note right : {\n         "janus":"attach",\n         "plugin":"janus.plugin.videoroom",\n         "opaque_id":"videoroomtest-y2hITJHXKJRO",\n         "transaction":"czDVrmAFNxEn",\n         "session_id":2480427901265901 \r\n}
Gateway - -> PB : 27:返回handle ID
note left : {\n         "janus":"success",\n         "session_id":2480427901265901,\n         "transaction":"czDVrmAFNxEn",\n         "data":{\n                  "id":4373710823681024 \n         }\r\n}

PB -> Gateway : 28:以订阅者加入房间
note right : {\n         "janus":"message",\n         "body":{\n                  "request":"join",\n                  "room":1234,\n                  "ptype":"subscriber",\n                  "feed":8854919062182404,\n                  "private_id":1170429074 \n         },\n         "transaction":"g2LA3wcreBG0",\n         "session_id":2480427901265901,\n         "handle_id":4373710823681024 \r\n}
Gateway - -> PB : 29:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"g2LA3wcreBG0"}
Gateway -> Gateway : 30:处理message

PB -> Gateway : 31:发布流并offer sdp
note right : {\n         "janus":"message",\n         "body":{\n                  "request":"configure",\n                  "audio":true,\n                  "video":true \n         },\n         "transaction":"MmHbTRZA9Jl4",\n         "jsep":{\n                  "type":"offer","sdp":"..."\n         },\n         "session_id ":2480427901265901,\n         "handle_id ":4404724676868865 \r\n}
PB -> Gateway : 32:发布者发送candidate
note right : {\n         "janus":"trickle",\n         "candidate":{\n                  "candidate":"candidate:...",\n                  "sdpMid":"0",\n                  "sdpMLineIndex":0 \n         },\n         "transaction":"265QGtchXJjY",\n         "session_id":2480427901265901,\n         "handle_id":4404724676868865 \r\n}
Gateway - -> PB : 33:响应ack(candidate)
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"265QGtchXJjY"}
Gateway - -> PB : 34:响应ack(offer)
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"MmHbTRZA9Jl4"} 

Gateway - -> PB : 35:订阅者join成功，offer sdp
note left : {\n         "janus":"event",\n         "session_id":2480427901265901,\n         "transaction":"g2LA3wcreBG0",\n         "sender":4373710823681024,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"attached",\n                           "room":1234,\n                           "id":8854919062182404,\n                           "display":"111"\n                  }\n         },\n         "jsep":{\n                  "type":"offer","sdp":"..."\n         }\r\n}
Gateway - -> PB : 36:发布成功，answer sdp
note left : {\n         "janus":"event",\n         "session_id":2480427901265901,\n         "transaction":"MmHbTRZA9Jl4",\n         "sender":4404724676868865,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"event",\n                           "room":1234,\n                           "configured":"ok",\n                           "audio_codec":"opus",\n                           "video_codec":"vp8"\n                  }\n         },\n         "jsep":{\n                  "type":"answer","sdp":"..."\n         }\r\n}

PB -> Gateway : 37:开始订阅,answer sdp
note right : {\n         "janus":"message",\n         "body":{\n                  "request":"start",\n                  "room":1234 \n         },\n         "transaction":"XI7lktMmu3ni",\n         "jsep":{\n                  "type":"answer","sdp":"..."\n         },\n         "session_id":2480427901265901,\n         "handle_id":4373710823681024 \r\n}
Gateway - -> PB : 38:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"XI7lktMmu3ni"}
Gateway - -> PB : 39:订阅成功
note left : {\n         "janus":"event",\n         "session_id":2480427901265901,\n         "transaction":"XI7lktMmu3ni",\n         "sender":4373710823681024,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"event",\n                           "room":1234,\n                           "started":"ok"\n                  }\n         }\r\n}
PB -> Gateway : 40:订阅者发送candidate
note right : {\n         "janus":"trickle",\n         "candidate":{\n                  "candidate":"candidate:...",\n                  "sdpMid":"audio",\n                  "sdpMLineIndex":0 \n         },\n         "transaction":"qEHTwRt5uhzG",\n         "session_id":2480427901265901,\n         "handle_id":4373710823681024 \r\n}
Gateway - -> PB : 41:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"qEHTwRt5uhzG"}

PB -> Gateway : 42:发布者candidate 结束
note right : {\n         "janus":"trickle",\n         "candidate":{\n                  "completed":true \n         },\n         "transaction":"T9e22m0sDTJF",\n         "session_id":2480427901265901,\n         "handle_id":4404724676868865 \r\n}
Gateway - -> PB : 43:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"T9e22m0sDTJF"}
PB -> Gateway : 44:订阅者candidate 结束
note right : {\n         "janus":"trickle",\n         "candidate":{\n                  "completed":true \n         },\n         "transaction":"GWSHHEGqDLof",\n         "session_id":2480427901265901,\n         "handle_id":4373710823681024 \r\n}
Gateway - -> PB : 45:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"GWSHHEGqDLof"}

Gateway -> PA : 46:广播通知PA有人发布流
note right : {\n         "janus":"event",\n         "session_id":6625688931244104,\n         "sender":824373231876398,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"event",\n                           "room":1234,\n                           "publishers":[{\n                                    "id":3078106228597803,\n                                    "display":"222",\n                                    "audio_codec":"opus",\n                                    "video_codec":"vp8",\n                                    "talking":false \n                           }]\n                  }\n         }\r\n}
PA -> Gateway : 47:绑定插件(订阅)
note left : {\n         "janus":"attach",\n         "plugin":\n         "janus.plugin.videoroom",\n         "opaque_id":"videoroomtest-JPkbv1yyPQUR",\n         "transaction":"M2rwmSrxvzWn",\n         "session_id":6625688931244104 \r\n}
Gateway - -> PA : 48:返回handle ID
note right : {\n         "janus":"success",\n         "session_id":6625688931244104,\n         "transaction":"M2rwmSrxvzWn",\n         "data":{\n                  "id":7963264770445835 \n         }\r\n}

PA -> Gateway : 49:以订阅者加入房间
note left : {\n         "janus":"message",\n         "body":{\n                  "request":"join",\n                  "room":1234,\n                  "ptype":"subscriber",\n                  "feed":3078106228597803,\n                  "private_id":3411107909 \n         },\n         "transaction":"HDfTm54ELWCa",\n         "session_id":6625688931244104,\n         "handle_id":7963264770445835 \r\n}
Gateway - -> PA : 50:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"HDfTm54ELWCa"}
Gateway - -> PA : 51:订阅者join成功，offer sdp
note right : {\n         "janus":"event",\n         "session_id":6625688931244104,\n         "transaction":"HDfTm54ELWCa",\n         "sender":7963264770445835,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"attached",\n                           "room":1234,\n                           "id":3078106228597803,\n                           "display":"222"\n                  }\n         },\n         "jsep":{\n                  "type":"offer","sdp":"..."\n         }\r\n}
PA -> Gateway : 52:开始订阅,并answer sdp
note left : {\n         "janus":"message",\n         "body":{\n                  "request":"start",\n                  "room":1234 \n         },\n         "transaction":"8XQ3BDlQqQVa",\n         "jsep":{\n                  "type":"answer","sdp":"..."\n         },\n         "session_id":6625688931244104,\n         "handle_id":7963264770445835 \r\n}
Gateway - -> PA : 53:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"8XQ3BDlQqQVa"}
Gateway - -> PA : 54：订阅成功
note right : {\n         "janus":"event",\n         "session_id":6625688931244104,\n         "transaction":"8XQ3BDlQqQVa",\n         "sender":7963264770445835,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"event",\n                           "room":1234,\n                           "started":"ok"\n                  }\n         }\r\n}

PA -> Gateway : 55:发送candidate
note left : {\n         "janus":"trickle",\n         "candidate":{\n                  "candidate":"candidate:...",\n                  "sdpMid":"audio",\n                  "sdpMLineIndex":0 \n         },\n         "transaction":"4aWxXAIz6uAg",\n         "session_id":6625688931244104,\n         "handle_id":7963264770445835 \r\n}
Gateway - -> PA : 56:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"4aWxXAIz6uAg"}
PA -> Gateway : 57:candidate结束
note left : {\n         "janus":"trickle",\n         "candidate":{\n                  "completed":true \n         },\n         "transaction":"huRNGzDx0Ynq",\n         "session_id":6625688931244104,\n         "handle_id":7963264770445835 \r\n}
Gateway - -> PA : 58:响应ack
note right : {"janus":"ack","session_id":6625688931244104,"transaction":"huRNGzDx0Ynq"}

PB -> Gateway : 59:停止发布流
note right : {\n         "janus":"message",\n         "body":{\n                  "request":"unpublish"\n         },\n         "transaction":"aVh8pPREYiU6",\n         "session_id":2480427901265901,\n         "handle_id":4404724676868865 \r\n}
Gateway - -> PB : 60:响应ack
note left : {"janus":"ack","session_id":2480427901265901,"transaction":"aVh8pPREYiU6"}
Gateway -> PA : 61:广播通知PA有人停止发布流
note right : {\n         "janus":"event",\n         "session_id":6625688931244104,\n         "sender":824373231876398,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"event",\n                           "room":1234,\n                           "unpublished":3078106228597803 \n                  }\n         }\r\n}
Gateway - -> PB : 62:停止发布ok
note left : {\n         "janus":"event",\n         "session_id":2480427901265901,\n         "transaction":"aVh8pPREYiU6",\n         "sender":4404724676868865,\n         "plugindata":{\n                  "plugin":"janus.plugin.videoroom",\n                  "data":{\n                           "videoroom":"event",\n                           "room":1234,\n                           "unpublished":"ok"\n                  }\n         }\r\n}

PA -> Gateway : 63:PA订阅者断开连接 
note left : {\n         "janus":"detach",\n         "transaction":"F1sep8Lu0K9m",\n         "session_id":6625688931244104,\n         "handle_id":7963264770445835 \r\n}
Gateway - -> PA : 64:断开成功
note right : {\n         "janus":"success",\n         "session_id":6625688931244104,\n         "transaction":"F1sep8Lu0K9m"\r\n}

PB -> Gateway : 65:PB退出,销毁session
note right : {\n         "janus":"destroy",\n         "transaction":"uQJVtjCezNGB",\n         "session_id":2480427901265901 \r\n} 
Gateway - -> PB : 66:PB销毁成功
note left : {\n         "janus":"success",\n         "session_id":2480427901265901,\n         "transaction":"uQJVtjCezNGB"\r\n}

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>